<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="        http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd        http://camel.apache.org/schema/spring       https://camel.apache.org/schema/spring/camel-spring.xsd">



	<camelContext id="camel-amqp-azure-service-bus-camel-context" xmlns="http://camel.apache.org/schema/spring">
	
	
		<route id="camel-amqp-azure-service-bus-queue-producer-route" autoStartup="true">
		
			<from uri="timer://foo?period=10000" />
			
			<setBody>
				<simple>This is a simple message generated by Camel to a Azure Service Bus Queue</simple>
			</setBody>
			
			<to uri="amqp:queue:sample-queue?subscriptionName=asouza-subscription"/>
			
			<log message="Message sent to AMQP Queue: ${body}"/>
			
		</route> 
		
		<route id="camel-amqp-azure-service-bus-queue-consumer-route" autoStartup="true">
			
			<from uri="amqp:queue:sample-queue"/>
						
			<log message="Message received from AMQP Queue: ${body}"/>
			
		</route>
	
	
  		<route id="camel-amqp-azure-service-bus-topic-producer-route" autoStartup="true">
		
			<from uri="timer://foo?period=10000" />
			
			<setBody>
				<simple>This is a simple message generated by Camel to a Azure Service Bus Topic</simple>
			</setBody>
			
			<to uri="amqp:queue:sample-topic"/>
			
			<log message="Message sent to AMQP Topic: ${body}"/>
			
		</route> 
		
		<route id="camel-amqp-azure-service-bus-topic-consumer-route" autoStartup="true">
			
			<from uri="amqp:queue:sample-topic/subscriptions/asouza-subscription"/>			
			<log message="Message received from AMQP Topic: ${body}"/>
			
		</route>
		 
		
	</camelContext>
</beans>
